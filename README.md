# Лабораторная работа: Основы работы с планировщиком задач cron

## Разминка (ее не нужно включать в отчет)

### Шаги:

1. **Создание тестового скрипта.**
   - Напишите простой скрипт `hello_cron.sh`, который выводит сообщение:
     ```bash
     #!/bin/bash
     echo "Hello, cron!"
     ```
     - `#!/bin/bash` — указывает, что скрипт будет выполнен с использованием Bash.
     - `echo "Hello, cron!"` — команда, которая выводит сообщение в консоль.

2. **Сделайте скрипт исполняемым.**
     ```bash
     chmod +x hello_cron.sh
     ```

3. **Настройка cron для выполнения скрипта.**
   - Откройте редактор crontab:
     ```bash
     crontab -e
     ```
   - Добавьте строку:
     ```plaintext
     * * * * * /path/to/hello_cron.sh
     ```
     - `* * * * *` — означает, что скрипт будет запускаться каждую минуту.
     - `/path/to/hello_cron.sh` — полный путь к вашему скрипту.

4. **Проверка работы cron.**
   - Сохраните изменения и дождитесь выполнения задачи.
   - Для проверки логов выполните:
     ```bash
     grep CRON /var/log/syslog
     ```
   - Объяснение:
     - `grep CRON` — фильтрует строки, связанные с выполнением cron.
     - `/var/log/syslog` — системный журнал, где хранятся записи о заданиях cron.

---

## Основное задание: Настройка резервного копирования

1. Создайте директорию `/data/test_dir` с произвольными файлами.
2. Напишите скрипт для резервного копирования:
   - Архивировать содержимое директории `/data/test_dir`.
   - Сохранять архивы в `/backup` с текущей датой в имени файла.
3. Настройте выполнение этого скрипта с помощью cron на ежедневное выполнение в 2:00 ночи (для того чтобы приложить скриншоты выполнения копирования в отчет можете указать в скрипте копирование не в 2 ночи, а в ближайшее "округленное" время 12:30, 17:00 и тп)
---

1. **Проверка содержимого директории с резервными копиями:**
   - Не забудьте убедиться, что в директории `/backup` появляются архивы с актуальной датой. Выполните команду:
     ```bash
     ls -lh /backup
     ```

2. **Тестовое выполнение задания:**
   - Чтобы не ждать следующей ночи, вы можете временно изменить расписание в `cron` на каждую минуту
   - Подождите несколько минут и выполните команду для просмотра логов cron
   - Проверьте, что архивы создаются в `/backup`.

---
## Как успешно сдать работу?
Создать свой репозиторий из шаблона этого. Как это делается - "Use this template" -> "Create a new repository" и сделайте его public.

Находясь уже в своем репозитории - создайте новый файл формата .md и там оформляйте отчет. В отчете опишите все шаги которые вы делали, чтобы получить финальный результат работы. Прикрепите только скриншоты настроек crontab, вывода команды `ls /backup` после выполнения задания, логов cron, подтверждающих успешное выполнение задачи.


Что вам нужно знать, чтобы успешно защитить работу: основные команды работы с cron, работа с архивами, логи системы, резервное копирование


## Полезные ссылки:
1. [Что такое cron и как его правильно использовать](https://timeweb.com/ru/community/articles/chto-takoe-cron)
2. [Туториал по tar](https://linux-docs.vercel.app/docs/linux-basics/tar-command-usage-and-examples)
4. [Работа с cron на русском](https://losst.pro/nastrojka-cron)
5. [tar](https://losst.pro/komanda-tar-v-linux)
6. [Источник со всей информацией](https://www.google.ru/)
